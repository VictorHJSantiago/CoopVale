{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Taxas de Entrega</h2>
    <a class="btn btn-success" href="{{ url_for('pedidos.nova_taxa') }}">Nova Taxa</a>
  </div>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Região</th><th>Valor</th><th>Prazo (dias)</th><th>Ativo</th><th>Ações</th>
      </tr>
    </thead>
    <tbody>
      {% for t in taxas %}
      <tr>
        <td>{{ t.regiao }}</td>
        <td>R$ {{ '%.2f'|format(t.valor) }}</td>
        <td>{{ t.prazo_dias }}</td>
        <td>{{ 'Sim' if t.ativo else 'Não' }}</td>
        <td>
          <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('pedidos.editar_taxa', id=t.id) }}">Editar</a>
          <form action="{{ url_for('pedidos.excluir_taxa', id=t.id) }}" method="post" class="d-inline">
            <button class="btn btn-sm btn-outline-danger" type="submit">Excluir</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% if not taxas %}
  <div class="alert alert-info">Nenhuma taxa de entrega cadastrada.</div>
  {% endif %}
</div>
{% endblock %}